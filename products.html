<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beyond Books - Collections</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    header {
      background-color: #333;
      color: white;
      padding: 15px;
      text-align: center;
    }
    nav a {
      margin: 0 15px;
      color: white;
      text-decoration: none;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .products-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
      gap: 20px;
    }
    .product {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 15px;
      text-align: center;
      width: 250px;  /* Increased width for larger images */
      background-color: #fff;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }
    .product img {
      max-width: 100%;
      max-height: 200px; /* Ensure image fits without cropping */
      height: auto;
      border-radius: 5px;
    }
    .product h3 {
      font-size: 18px;
      margin: 10px 0 5px;
    }
    .product p {
      font-size: 16px;
      color: #333;
    }
    .product button {
      margin-top: 10px;
      padding: 10px;
      background-color: #333;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      width: 100%;
    }
    .product button:hover {
      background-color: #555;
    }

    .search-container {
      position: absolute;
      top: 15px;
      right: 20px;
      display: flex;
      align-items: center;
    }
    
    .search-icon {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: white;
    }
    
    #searchInput {
      border: none;
      border-bottom: 1px solid white;
      background: transparent;
      color: white;
      padding: 5px;
      margin-left: 10px;
      width: 0;
      opacity: 0;
      transition: all 0.3s ease;
      font-size: 16px;
      outline: none;
    }
    
    /* When search is active */
    .search-container.active #searchInput {
      width: 180px;
      opacity: 1;
    }
    
    #searchInput::placeholder {
      color: lightgray;
    }
    
  </style>
</head>
<body>
  <header>
    <h1></h1>

    <div class="search-container">
      <button class="search-icon" onclick="toggleSearch()">üîç</button>
      <input
        type="text"
        id="searchInput"
        placeholder="Search..."
        oninput="filterProducts()"
      />
    </div>
    
    
    <nav>
      <a href="index.html">Home</a>
      <a href="products.html">Books</a>
      <!-- <a href="cart.html">Cart (<span id="cart-count">0</span>)</a> -->
    </nav>
  </header>
  <main class="products-container">
   <!-- Product 1 -->
<div class="product">
  <img src="images/phy.jpg" alt="Product 1">
  <h3>The Psychology of Money</h3>
  <p id="stock-The Psychology of Money"></p>
  <button onclick="startReading('The Psychology of Money', 'pdfs/psyco.pdf')">Start Reading</button>
  <button onclick="lendBook('The Psychology of Money')" id="lend-The Psychology of Money">Lend Book</button>
</div>

<!-- Product 2 -->
<div class="product">
  <img src="images/ikigai.jpg" alt="Product 2">
  <h3>Ikigai</h3>
  <p id="stock-Ikigai"></p>
  <button onclick="startReading('Ikigai', 'pdfs/Ikigai.pdf')">Start Reading</button>
  <button onclick="lendBook('Ikigai')" id="lend-Ikigai">Lend Book</button>
</div>

  <!-- Product 3 -->
<div class="product">
  <img src="images/dopamine.jpg" alt="Product 3">
  <h3>Dopamine Detox</h3>
  <button onclick="startReading('Dopamine Detox', 'pdfs/dopamine.pdf')">Start Reading</button>
  <button onclick="lendBook('Dopamine Detox')" id="lend-Dopamine Detox">Lend Book</button>
</div>

<!-- Product 4 -->
<div class="product">
  <img src="images/deep.jpg" alt="Product 4">
  <h3>Deep Work</h3>
  <button onclick="startReading('Deep Work', 'pdfs/deep.pdf')">Start Reading</button>
  <button onclick="lendBook('Deep Work')" id="lend-Deep Work">Lend Book</button>
</div>

<!-- Product 5 -->
<div class="product">
  <img src="images/lighthouse.jpg" alt="Product 5">
  <h3>I Came Upon a Lighthouse</h3>
  <button onclick="startReading('I Came Upon a Lighthouse', 'pdfs/lighthouse.pdf')">Start Reading</button>
  <button onclick="lendBook('I Came Upon a Lighthouse')" id="lend-I Came Upon a Lighthouse">Lend Book</button>
</div>

<!-- Product 6 -->
<div class="product">
  <img src="images/power.jpg" alt="Product 6">
  <h3>The Power of Your Subconscious Mind</h3>
  <button onclick="startReading('The Power of Your Subconscious Mind', 'pdfs/power.pdf')">Start Reading</button>
  <button onclick="lendBook('The Power of Your Subconscious Mind')" id="lend-The Power of Your Subconscious Mind">Lend Book</button>
</div>

<!-- Product 7 -->
<div class="product">
  <img src="images/win.jpg" alt="Product 7">
  <h3>How to Win Friends and Influence People</h3>
  <button onclick="startReading('How to Win Friends and Influence People', 'pdfs/win.pdf')">Start Reading</button>
  <button onclick="lendBook('How to Win Friends and Influence People')" id="lend-How to Win Friends and Influence People">Lend Book</button>
</div>

<!-- Product 8 -->
<div class="product">
  <img src="images/5am.jpg" alt="Product 8">
  <h3>The 5 AM Club ‚Äì Own Your Morning</h3>
  <button onclick="startReading('The 5 AM Club ‚Äì Own Your Morning', 'pdfs/5am.pdf')">Start Reading</button>
  <button onclick="lendBook('The 5 AM Club ‚Äì Own Your Morning')" id="lend-The 5 AM Club ‚Äì Own Your Morning">Lend Book</button>
</div>

<!-- Product 9 -->
<div class="product">
  <img src="images/mount.jpg" alt="Product 9">
  <h3>The Mountain Is You: Self-Sabotage Into Self-Mastery</h3>
  <button onclick="startReading('The Mountain Is You', 'pdfs/mountain.pdf')">Start Reading</button>
  <button onclick="lendBook('The Mountain Is You')" id="lend-The Mountain Is You">Lend Book</button>
</div>

<!-- Product 10 -->
<div class="product">
  <img src="images/atomic.jpg" alt="Product 10">
  <h3>Atomic Habits: Tiny Changes Remarkable Results</h3>
  <button onclick="startReading('Atomic Habits', 'pdfs/atomic.pdf')">Start Reading</button>
  <button onclick="lendBook('Atomic Habits')" id="lend-Atomic Habits">Lend Book</button>
</div>

  </main>

  <script>
    const books = [
      { title: "The Psychology of Money", file: "pdfs/psyco.pdf", image: "images/phy.jpg" },
      { title: "Ikigai", file: "pdfs/Ikigai.pdf", image: "images/ikigai.jpg" },
      { title: "Dopamine Detox", file: "pdfs/dopamine.pdf", image: "images/dopamine.jpg" },
      { title: "Deep Work", file: "pdfs/deep.pdf", image: "images/deep.jpg" },
      { title: "I Came Upon a Lighthouse", file: "pdfs/lighthouse.pdf", image: "images/lighthouse.jpg" },
      { title: "The Power of Your Subconscious Mind", file: "pdfs/power.pdf", image: "images/power.jpg" },
      { title: "How to Win Friends and Influence People", file: "pdfs/win.pdf", image: "images/win.jpg" },
      { title: "The 5 AM Club ‚Äì Own Your Morning", file: "pdfs/5am.pdf", image: "images/5am.jpg" },
      { title: "The Mountain Is You", file: "pdfs/mountain.pdf", image: "images/mount.jpg" },
      { title: "Atomic Habits", file: "pdfs/atomic.pdf", image: "images/atomic.jpg" }
    ];

    function displayBooks(bookArray) {
      const container = document.querySelector('.products-container');
      container.innerHTML = '';
    
      if (bookArray.length === 0) {
        container.innerHTML = `
          <div style="text-align: center; padding: 40px; font-size: 18px; color: #666;">
            ‚ùå No results found.
          </div>
        `;
        return;
      }
    
      bookArray.forEach(book => {
        container.innerHTML += `
          <div class="product">
            <img src="${book.image}" alt="${book.title}">
            <h3>${book.title}</h3>
            <button onclick="startReading('${book.title}', '${book.file}')">Start Reading</button>
            <button onclick="lendBook('${book.title}')">Lend Book</button>
          </div>
        `;
      });
    }
    

    function filterProducts() {
      const input = document.getElementById('searchInput').value.toLowerCase();
      const filtered = books.filter(book => book.title.toLowerCase().includes(input));
      displayBooks(filtered);
    }

    function toggleSearch() {
      const container = document.querySelector('.search-container');
      container.classList.toggle('active');

      const input = document.getElementById('searchInput');
      if (container.classList.contains('active')) {
        input.focus();
      } else {
        input.value = '';
        filterProducts();
      }
    }

    function startReading(title, filePath) {
      localStorage.setItem('currentBook', title);
      localStorage.setItem('currentBookFile', filePath);
      window.location.href = 'reading.html';
    }

    function lendBook(bookTitle) {
      localStorage.setItem('selectedBookToLend', bookTitle);
      window.location.href = 'lendbook.html';
    }

    document.addEventListener('DOMContentLoaded', () => {
      displayBooks(books);
    });
  </script>
  <script>
    // Function to add item to cart
    function addToCart(name, price) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      
      // Create the product object
      const product = { name, price };
      cart.push(product);

      // Save the updated cart back to local storage
      localStorage.setItem('cart', JSON.stringify(cart));

      // Update cart count in the header
      updateCartCount();
    }

    // Function to update the cart count in the header
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      document.getElementById('cart-count').textContent = cart.length;
    }

    // Call this function to update the cart count when the page loads
    updateCartCount();
  </script>
  <script>
        // Load user data from localStorage
        document.getElementById('user-name').textContent = 'Hello, ' + (localStorage.getItem('userName') || 'User');
        document.getElementById('user-email').textContent = localStorage.getItem('userEmail') || '';
        document.getElementById('user-image').src = localStorage.getItem('userPicture') || '';

        // Optional: Add sign-out function here if needed
        
        function startReading(bookTitle, bookFilePath) {
          localStorage.setItem('currentBook', bookTitle);
          localStorage.setItem('currentBookFile', bookFilePath);
          window.location.href = 'reading.html';
        }
        
        function lendBook(bookTitle) {
          localStorage.setItem('selectedBookToLend', bookTitle);
          window.location.href = 'lendbook.html';
        }

        function toggleSearch() {
          const container = document.querySelector('.search-container');
          container.classList.toggle('active');
        
          const input = document.getElementById('searchInput');
          if (container.classList.contains('active')) {
            input.focus();
          } else {
            input.value = '';
            filterProducts(); // Reset product list
          }
        }
        
    </script>
</body>
</html>
